<script type="text/javascript" src="//apps.bdimg.com/libs/bootstrap/3.2.0/js/bootstrap.min.js?ver=5.2"></script>
<script src="//files.cnblogs.com/files/enjoy233/clipboard.min-v2.0.4.js"></script>
<link rel="stylesheet" href="//files.cnblogs.com/files/enjoy233/copyCodeButton.css">

<div class="scrollBtn" id="scrollBtn">
    <ul class="clearfix">
        <li class="sB-home">
            <a href="//www.cnblogs.com/enjoy233" class="ff-t" title="首页"></a>
        </li>
        <li class="sB-comment">
            <a href="#blog-comments-placeholder" onclick="if(document.location.href.indexOf('/p/') > 0 || document.location.href.indexOf('/archive/') > 0 || document.location.href.indexOf('/articles') > 0 || document.location.href.indexOf('/diary/') > 0) { $('#tbCommentBody').focus(); } else { console.log('首页无法评论!');}" class="ff-t" title="添加评论"></a>
        </li>
        <li class="sB-share"><a onclick="if(document.location.href.indexOf('/p/') > 0 || document.location.href.indexOf('/archive/') > 0 || document.location.href.indexOf('/articles') > 0 || document.location.href.indexOf('/diary/') > 0) {AddToWz(cb_entryId);} else { AddToWz($('.postTitle2')[0].href.substring(0, $('.postTitle2')[0].href.length-5).split('/').slice(-1)[0]); } " href="javascript:void(0);" title="收藏"></a></li>
        <li class="sB-goTop" id="goTop" style="display: list-item;">
            <a href="#mainContent" title="回顶部"></a>
        </li>
    </ul>
</div>

<script type="text/javascript" src="//apps.bdimg.com/libs/bootstrap/3.2.0/js/bootstrap.min.js?ver=5.2"></script>
<link type="text/css" rel="stylesheet" media="screen" href="//files.cnblogs.com/files/enjoy233/avatarAnimate.css" />
<script type="text/javascript" src="//files.cnblogs.com/files/enjoy233/jquery.easing.min.js"></script>

<!-- 添加文章目录 -->
<link href="//blog-static.cnblogs.com/files/enjoy233/nav.my-right.css" rel="stylesheet">

<script type="text/javascript">
    $(document).ready(function () {
        $("#cnblogs_post_body").append('<br/><hr/><div id="signature" style="background: url(//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_user_warning.png) #e5f1f4 no-repeat 1% 50%; border-top: #e0e0e0 1px dashed;    border-right: #e0e0e0 1px dashed;    border-bottom: #e0e0e0 1px dashed;    border-left: #e0e0e0 1px dashed;    padding-top: 10px;    padding-right: 10px;    padding-bottom: 10px;    padding-left: 70px; font-size: 13.5px;">   作者：<a href="//www.cnblogs.com/enjoy233/" target="_blank" title="Enjoy233的博客" style="color: brown">Bravo Yeung</a><br>    出处：<a href="//enjoy233.cnblogs.com" target="_blank" title="enjoy233" style="color: blue">//enjoy233.cnblogs.com/</a>    <br>如果您觉得阅读本文对您有帮助，请点击一下右下方的<b style="color: blue; font-size: 16px">推荐</b>按钮，您的<b style="color: blue; font-size: 16px">推荐</b>将是我写作的最大动力！    <br>版权声明：本文为博主原创或转载文章，欢迎转载，<b>但转载文章之后必须在文章页面明显位置注明出处</b>，否则保留追究法律责任的权利。</div>');

        if (isLogined) {
            var author = $('#tbCommentAuthor');
            author.hide();
            $('#comment_form_container p').before(author);
            $("#comment_form_container p").first().html("<br/>Hi, <font style='font-weight:bold;color:#2ca6cb;'>" + author.val() + "</b>~");
            $('#tip_comment+p').show();
            $('#btn_comment_submit').attr('value', '写完，加上去');
            $('#btn_comment_submit').css(
                {
                    'width': '90px'
                });
        }
         
    });
</script>

<script src="//files.cnblogs.com/files/enjoy233/highlightjs-line-numbers.min-v2.6.js"></script>

<script>
    /* jquery 仅在页面所有资源都加载完成后加行号、显示代码所用的语言 */
    document.onreadystatechange = function () {
        if (document.readyState === 'interactive') {

                    $('#footer').append('<div id="customFooter">            Powered By             <a href="//www.cnblogs.com" target="_blank">Cnblogs</a> |             <a href="//github.com/yanglr/cnblogs-theme-xSimple" target="_blank" title="Fork theme on github" class="enjoyFont">Extremely Simple</a>  Theme By             <a href="//www.cnblogs.com/enjoy233" target="_blank"  class="enjoyFont">Enjoy233</a>, Basic skin - <a href="//www.cnblogs.com/SkinUser.aspx?SkinName=LessIsMore" target="_blank">Less is More</a>.</div><br>');

        }
        if (document.readyState === 'complete') {
             $.getScript('//files.cnblogs.com/files/enjoy233/addCopyCodeButton.js');
                    if ($(".cnblogs-post-body pre > code").length == 0 && $(".cnblogs-markdown pre").length > 0) {
                    /* markdown模式下为代码加入行号, 调用插件highlightjs-line-numbers.js */

                    // hljs.initHighlightingOnLoad();		
                    // hljs.initLineNumbersOnLoad();

                    $('code.hljs').each(function(i, block) {
                        hljs.lineNumbersBlock(block);
                    });

                    setCodeRowWithLang($(".cnblogs-markdown pre"));    // markdown模式
                }

            if ($(".cnblogs-post-body pre > code").length > 0) {
                var code = $(".cnblogs-post-body pre").find(".hljs");
                code.each(addSourceLineNumbers);
                setCodeRowWithLang($(".cnblogs-post-body pre"));
            }

            if (document.location.href.indexOf('/p/') > 0 || document.location.href.indexOf('/archive/') > 0 || document.location.href.indexOf('/articles') > 0 || document.location.href.indexOf('/diary/') > 0) {
            if($('#ubb_quote').length == 1)
            {
                $('#ubb_quote')[0].src = "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_quoteIcon.png";
                $('#ubb_quote').css({
                'width': '20px',
                'height': '20px'
                });
            }

            if($('#ubb_url').length == 1)
            {
                $('#ubb_url')[0].src = "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_linkIcon.png";
                $('#ubb_url').css({
                'width': '18px',
                'height': '18px'
                });
            }

            if($('#ubb_code').length == 1)
            {
                $('#ubb_code')[0].src = "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_codeIcon.png";
                $('#ubb_code').css({
                'width': '18px',
                'height': '18px'
                });
            }
            
            if($('#ubb_code').length == 1)
            {
                $('#ubb_img')[0].src = "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_imageUploadIcon.png";
                $('#ubb_img').css({
                'width': '20px',
                'height': '20px'
                });
            }              

         }
        }
    }

    $(function () {
        $("#picLsy li").hover(function () {
            $(this).find('.text:not(:animated)').animate({
                    top: "0px"
                },
                {
                    easing: "easeInOutExpo"
                },
                50,
                function () { });
        }, function () {
            $(this).find('.text').animate({
                    top: "176px"
                },
                {
                    easing: "easeInOutExpo"
                },
                50,
                function () { });
        });

        if ($(".cnblogs-markdown pre").length == 0) {
            $.getScript("//files.cnblogs.com/files/enjoy233/nav.my.js");
        }
    });
    function addSourceLineNumbers() {
        var
            name = 'name',
            num = 1,
            result = this.innerHTML.replace(/\n/g, function () {
                num++;
                return "\n" + '<a class="line" name="' + name + num + '">' + num + '</a>';
            });
        //console.log(result);
        this.innerHTML = '<a class="line" name="' + name + '0">1&nbsp;' + result + '</a>';
        //console.log(this.innerHTML);
    }
    function setCodeRowWithLang(pre) {
        /* var pre = $(".cnblogs-post-body pre");  选中需要处理的代码块, 如果不是首页，选择器为 .cnblogs-markdown pre  */
        if (pre && pre.length) {
            pre.each(function () {
                var item = $(this);
                var lang = item[0].className;  /*  获取高亮的语言，得到javascript/html/cpp等全小写的语言名，下面进行一个转换  */
                var langMap = {
                    "html": "HTML",
                    "xml": "XML",
                    "svg": "SVG",
                    "mathml": "MathML",
                    "css": "CSS",
                    "clike": "C-like",
                    "js": "JavaScript",
                    "abap": "ABAP",
                    "apacheconf": "Apache Configuration",
                    "apl": "APL",
                    "arff": "ARFF",
                    "asciidoc": "AsciiDoc",
                    "adoc": "AsciiDoc",
                    "asm6502": "6502 Assembly",
                    "aspnet": "ASP.NET (C#)",
                    "autohotkey": "AutoHotkey",
                    "autoit": "AutoIt",
                    "shell": "Bash",
                    "basic": "BASIC",
                    "csharp": "C#",
                    "dotnet": "C#",
                    "cpp": "C++",
                    "cil": "CIL",
                    "csp": "Content-Security-Policy",
                    "css-extras": "CSS Extras",
                    "django": "Django/Jinja2",
                    "jinja2": "Django/Jinja2",
                    "dockerfile": "Docker",
                    "erb": "ERB",
                    "fsharp": "F#",
                    "gcode": "G-code",
                    "gedcom": "GEDCOM",
                    "glsl": "GLSL",
                    "gml": "GameMaker Language",
                    "gamemakerlanguage": "GameMaker Language",
                    "graphql": "GraphQL",
                    "hcl": "HCL",
                    "http": "HTTP",
                    "hpkp": "HTTP Public-Key-Pins",
                    "hsts": "HTTP Strict-Transport-Security",
                    "ichigojam": "IchigoJam",
                    "inform7": "Inform 7",
                    "javastacktrace": "Java stack trace",
                    "json": "JSON",
                    "jsonp": "JSONP",
                    "latex": "LaTeX",
                    "emacs": "Lisp",
                    "elisp": "Lisp",
                    "emacs-lisp": "Lisp",
                    "lolcode": "LOLCODE",
                    "markup-templating": "Markup templating",
                    "matlab": "MATLAB",
                    "mel": "MEL",
                    "n1ql": "N1QL",
                    "n4js": "N4JS",
                    "n4jsd": "N4JS",
                    "nand2tetris-hdl": "Nand To Tetris HDL",
                    "nasm": "NASM",
                    "nginx": "nginx",
                    "nsis": "NSIS",
                    "objectivec": "Objective-C",
                    "ocaml": "OCaml",
                    "opencl": "OpenCL",
                    "parigp": "PARI/GP",
                    "objectpascal": "Object Pascal",
                    "php": "PHP",
                    "php-extras": "PHP Extras",
                    "plsql": "PL/SQL",
                    "powershell": "PowerShell",
                    "properties": ".properties",
                    "protobuf": "Protocol Buffers",
                    "q": "Q (kdb+ database)",
                    "jsx": "React JSX",
                    "tsx": "React TSX",
                    "renpy": "Ren'py",
                    "rest": "reST (reStructuredText)",
                    "sas": "SAS",
                    "sass": "Sass (Sass)",
                    "scss": "Sass (Scss)",
                    "sql": "SQL",
                    "soy": "Soy (Closure Template)",
                    "tap": "TAP",
                    "toml": "TOML",
                    "tt2": "Template Toolkit 2",
                    "ts": "TypeScript",
                    "vbnet": "VB.Net",
                    "vhdl": "VHDL",
                    "vim": "vim",
                    "visual-basic": "Visual Basic",
                    "vb": "Visual Basic",
                    "wasm": "WebAssembly",
                    "wiki": "Wiki markup",
                    "xeoracube": "XeoraCube",
                    "xojo": "Xojo (REALbasic)",
                    "xquery": "XQuery",
                    "yaml": "YAML"
                };
                var displayLangText = "";
                if (lang in langMap) displayLangText = langMap[lang];
                else displayLangText = lang;
                item.find('.hljs')
                    .prepend(
                        '<div align="right" top="0px" right="10px" position="relative"><a href="javascript:void(0);"></a> <font class="codeLang"  title="当前Code所用语言">' +
                        displayLangText +
                        '</font></div>');
            });
        };
    }
</script>

<!-- tctip 支付赞赏/打赏 -->
    <link type="text/css" rel="stylesheet" href="//files.cnblogs.com/files/enjoy233/myRewards-ysh.css">
    <script>
        window.tctipConfig = {
            headText: "欢迎打赏支持我 ^_^",
            siderText: "打赏",
            siderTextTop: "-72px",
            siderBgcolor: "#FD7E3E",
            siderTop: "9%",
            buttomText: "了解更多",
            buttomLink: "//github.com/haddyyang/tctip",

            list: {
                alipay: {
                    name: "支付宝",
                    icon: "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_alipayIcon.png",
                    desc: "用支付宝\n打赏作者",
                    qrimg: "//files.cnblogs.com/files/enjoy233/Reward_Alipay_Charge.bmp"
                },
                weixin: {
                    name: "微信",
                    desc: "用微信\n打赏作者",
                    icon: "//www.cnblogs.com/images/cnblogs_com/enjoy233/1389971/o_weixinIcon.png", 
                    qrimg: "//files.cnblogs.com/files/enjoy233/Reward_WX_Charge.bmp"
                }
            }

        };
    </script>
    <script src="//files.cnblogs.com/files/enjoy233/tctip.min-ysh.js"></script>

<!-- Baidu Share BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare">
    <span class="bds_more">分享到：</span>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a>
    <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
    <a href="#" class="bds_kaixin001" data-cmd="kaixin001" title="分享到开心网"></a>
    <a href="#" class="bds_mail" data-cmd="mail" title="分享到邮件分享"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=2883522"></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
    document.getElementById("bdshell_js").src = "//static.dmzj.com/baidushare/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000)
</script>
<!-- Baidu Share END -->

<script src="//files.cnblogs.com/files/enjoy233/tocbot.min-v4.4.2.js"></script>
<link rel="stylesheet" href="//files.cnblogs.com/files/enjoy233/tocbot-v4.4.2.css">

<script>
    if ($(".cnblogs-markdown pre").length > 0) {
        // content = $('<div class="tocCol"><p>目录</p><p class="js-toc"></p></div>');
        if ($("h1, h2, h3, h4, h5, h6").length > 0)
            $("#home").prepend('<div class="o1" title="显示/隐藏目录">   <i class="fa fa-list-ul" style="font-size: 40px;"></i></div><div class="asideMdContents">  <div class="close">       <div class="x"></div>       <div class="x2"></div>   </div>  <p>目录</p><p class="js-toc"></p> </div>');
        tocbot.init({
            // css选择器，用于指定将要生成自动目录的位置
            tocSelector: '.js-toc',
            // 指定源内容，即markdown自动生成TOC之外的正文部分，抓取这部分的headings(h1, h2, h3...等)
            contentSelector: '#cnblogs_post_body',
            // 指定contentSelector元素内部中需要抓住的headings
            headingSelector: 'h1, h2, h3, h4',
            collapseDepth: 6,
            headingsOffset: 2,
            orderedList: true
            /* 温馨提醒: 最后一个参数不能有逗号 */
        });
    }
        $('.o1').click(function () {
            $('.asideMdContents').fadeIn(400);
        });
        $('.close').click(function () {
            $('.asideMdContents').fadeOut(100);
        });
    //Setting ico for blog
    var linkObject = document.createElement('link');
    linkObject.rel = "shortcut icon";
    linkObject.href = "//files.cnblogs.com/files/enjoy233/favicon.ico";
    document.getElementsByTagName("head")[0].appendChild(linkObject);
// $('<p style="color:blue;">目录</p>').prependTo('.js-toc');
</script>

<script  type="text/javascript">
    var selfLogin = true;
    if($('#tbCommentAuthor').val() === undefined || $('#tbCommentAuthor').val() != 'Enjoy233')
        selfLogin = false;

    var pageInfo = '\r\n---------------------\r\n著作权归作者所有。\r\n'
        + '商业转载请联系作者获得授权，非商业转载请注明出处。\r\n'
        + '作者：Bravo Yeung\r\n源地址：' + document.location.href
        + '\r\n来源：博客园cnblogs\r\n© 版权声明：本文为博主原创文章，转载请附上博文链接！';
    document.addEventListener('copy', function (ev) {
        var targetHTML = $.trim($(ev.target).html());
        // console.log("targetHTML:" + targetHTML)
        if (targetHTML == "") return;
        if (!(targetHTML.startsWith('<table class="hljs-ln"') && targetHTML.endsWith('</table>')) || !selfLogin)  // isLogined
        {
            var selected = window.getSelection();
            var selectedText = selected.toString();  
            var copyRightStr = (selectedText + pageInfo).replace(/\n/g, '\r\n'); // Solve the line breaks conversion issue
            // var rawText = `${copyRightStr}`;
            ev.clipboardData.setData('text/plain', copyRightStr); // IE不支持` template string
            ev.preventDefault();
        }
    });
</script>
